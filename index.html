



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Music Writer</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#757575">
      
    
    
      <script src="assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="grey" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#piano-music-transcription-project" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="Music Writer" class="md-header-nav__button md-logo">
          
            <img src="assets/images/soundwave_ccf.jpg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Music Writer
            </span>
            <span class="md-header-nav__topic">
              
                Home
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="." title="Music Writer" class="md-nav__button md-logo">
      
        <img src="assets/images/soundwave_ccf.jpg" width="48" height="48">
      
    </a>
    Music Writer
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introductory-progress" class="md-nav__link">
    Introductory Progress
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exploring-the-repository" class="md-nav__link">
    Exploring the Repository
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#footnotes" class="md-nav__link">
    Footnotes:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="quickstart/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introductory-progress" class="md-nav__link">
    Introductory Progress
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exploring-the-repository" class="md-nav__link">
    Exploring the Repository
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#footnotes" class="md-nav__link">
    Footnotes:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="piano-music-transcription-project">Piano Music Transcription Project</h1>
<p><strong>Note: this project is a work in progress, still very early stage and not cleaned up for easily understandable presentation.</strong></p>
<p><img alt="alt text" src="assets/images/doc_header_image.png" /></p>
<p>This project was inspired by the amazing piano improvisations of jazz pianist Brad Mehldau. If you've never heard him, here's a few samples: 1) <a href="https://www.youtube.com/watch?v=XDDr5TwpJYY">My Favorite Things - Jazz a Vienne</a>, 2) <a href="https://www.youtube.com/watch?v=ktZ_gK42rCY">Blackbird - Live in London</a>, 3) <a href="https://www.youtube.com/watch?v=dioXSByhtmE">Paranoid Android - Transcription</a>, the last of which actually presents a (human) transcription to give you an idea what this project is aiming for.</p>
<p>Like most jazz musicians, most of Mehldau's recordings are live performances, each uniquely improvised on the spot. These rarely get transcribed because of the difficulty of such a task for even a single song performance. Harmony in particular (probably by ear-candy-design, in a manner of speaking) exibits a rich and ever variable mixture of constructive and destructive wave phenomenon and is thus very tricky to reverse engineer into written music.</p>
<p>The goal of this project then is transcription of solo piano recordings, or more precisely to create simplified MIDI files given WAV audio (there are existing tools to translate MIDI into musical notation, which is relatively straightforward by comparison). Though automated musical transcription has received a lot of attention, the programs I could find produced essentially gibberish given a solo Meldau recording. Granted they were free versions, but like most of my projects recently, I'm as focused on curious exploration of ML/Deep Learning/AI as I am on pragmatic end products, plus I know this problem is far from solved in a general.</p>
<hr />
<h2 id="introductory-progress">Introductory Progress</h2>
<p>Thematically my focus thus far has been 1) general MIDI file handling, 2) translation of audio signals into the frequency domain, and 3) processing spectral data with NNs. This strategy (i.e. audio -&gt; spectral -&gt; network -&gt; midi) seemed to be both the most logical approach and a relatively common one, based on my research of other transcription projects.<a href="#footnotes"><sup>1</sup></a> I've employed an open source package: <a href="https://mido.readthedocs.io/en/latest/">Mido</a> for MIDI file handling, and I'm using SciPy libraries for the spectral translation (Wav file handling and DFTs).</p>
<p>I've experimented with a variety of NN architectures so far, primarily of GRU and CNN-to-Dense varieties. To conduct supervised learning, I've restricted myself to training with audio files that I have corresponding MIDI data for. I also created a very stripped-down MIDI/audio file set of simple ascending and descending chromatic scales. I was surprised to find even this very simple scale test to be non-trivial for a network to predict with perfect accuracy.</p>
<p>I was intrigued to notice that a typical mean-squared-error measurement can be minimized to a high degree of accuracy, but still sound obviously wrong to our ears rhythmically, by which I mean, I believe our minds are judging rhythmic accuracy differently. For example, a drum beat that is consistently late every beat by a half-second sounds more "correct" to us than a drum that is spot on most of the time but erratically drops out without a clear pattern, even though this latter case may be more mathematically accurate according to the MSE measurement).</p>
<h2 id="exploring-the-repository">Exploring the Repository</h2>
<p>Please feel free to run through the notebooks. These should all execute but (my apologies) they are not well commented or organized at this point, many still with draft versions of functions etc. Again, the project is in early stages and has not be manicured for presentation. Generally, you can find .py files in the <em>mwriter</em> directory and .ipynb files in the <em>notebooks</em> directory. The <em>sandbox</em> directory is just very rough, scratch pad stuff at this point.</p>
<hr />
<p><a id="footnotes"></a></p>
<h4 id="footnotes">Footnotes:</h4>
<blockquote>
<p><sup>1</sup> See: <a href="http://www.eecs.qmul.ac.uk/~ewerts/publications/2019_BenetosDixonDuanEwert_AutomaticMusicTranscription_IEEE-SPM.pdf">Automatic Music Transcription: An Overview</a></p>
</blockquote>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="quickstart/" title="Quick Start" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Quick Start
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
  </body>
</html>